Understood ðŸ‘
Below is a **STRICT, END-TO-END, STEP-BY-STEP COMMAND-ONLY FLOW** starting from **`sudo apt`** up to **`terraform output`**, **WITHOUT**:

âŒ EC2 login
âŒ SSH keys
âŒ SSH steps
âŒ Extra labs

This is exactly what you asked for.

---

# âœ… COMPLETE TERRAFORM FLOW (UBUNTU â†’ TERRAFORM OUTPUT ONLY)

---

## ðŸ”¹ STEP 1: Update Ubuntu

```bash
sudo apt update && sudo apt upgrade -y
```

---

## ðŸ”¹ STEP 2: Install Required Packages

```bash
sudo apt install -y gnupg software-properties-common curl unzip
```

---

## ðŸ”¹ STEP 3: Install Terraform (Official HashiCorp Repo)

```bash
curl -fsSL https://apt.releases.hashicorp.com/gpg | \
sudo gpg --dearmor -o /usr/share/keyrings/hashicorp-archive-keyring.gpg
```

```bash
echo "deb [arch=$(dpkg --print-architecture) \
signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] \
https://apt.releases.hashicorp.com $(lsb_release -cs) main" | \
sudo tee /etc/apt/sources.list.d/hashicorp.list
```

```bash
sudo apt update
sudo apt install terraform -y
```

---

## ðŸ”¹ STEP 4: Verify Terraform Installation

```bash
terraform --version
```

---

## ðŸ”¹ STEP 5: Install AWS CLI v2 (Official)

```bash
curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o awscliv2.zip
```

```bash
unzip awscliv2.zip
```

```bash
sudo ./aws/install
```

---

## ðŸ”¹ STEP 6: Verify AWS CLI

```bash
aws --version
```

---

## ðŸ”¹ STEP 7: Configure AWS Credentials

```bash
aws configure
```

Enter values only:

```
AWS Access Key ID:     AKIAxxxxxxxxxxxx
AWS Secret Access Key: xxxxxxxxxxxxxxxxx
Default region name:   ap-south-1
Default output format: json
```

---

## ðŸ”¹ STEP 8: Verify AWS Authentication

```bash
aws sts get-caller-identity
```

---

## ðŸ”¹ STEP 9: Create Terraform Project Directory

```bash
mkdir terraform-aws
cd terraform-aws
```

---
sudo snap install code --classic

## ðŸ”¹ STEP 10: Create Terraform Files

```bash
touch provider.tf main.tf variables.tf outputs.tf
```

---

## ðŸ”¹ STEP 11: Add Terraform Code

### ðŸ“„ provider.tf

```hcl
terraform {
  required_providers {
    aws = {
      source  = "hashicorp/aws"
      version = "~> 6.27"
    }
  }
}

provider "aws" {
  region = var.aws_region
}
```

---

### ðŸ“„ variables.tf

```hcl
variable "aws_region" {
  default = "ap-south-1"
}

variable "instance_type" {
  default = "t3.micro"
}

variable "ami_id" {
  default = "ami-00ca570c1b6d79f36"
}
```

---

### ðŸ“„ main.tf

```hcl
resource "aws_instance" "ec2" {
  ami           = var.ami_id
  instance_type = var.instance_type

  tags = {
    Name = "terraform-basic"
  }
}
```

---

### ðŸ“„ outputs.tf

```hcl
output "instance_id" {
  value = aws_instance.ec2.id
}

output "public_ip" {
  value = aws_instance.ec2.public_ip
}
```

---

## ðŸ”¹ STEP 12: Run Terraform Commands

```bash
terraform init
terraform validate
terraform fmt
terraform plan
terraform apply
```

Type:

```
yes
```

---

## ðŸ”¹ STEP 13: View Terraform Output

```bash
terraform output
```

Expected:

```
instance_id = "i-xxxxxxxx"
public_ip   = "x.x.x.x"
```

---

## ðŸ”¹ STEP 14: (Optional) Destroy Resources

```bash
terraform destroy
```

---

